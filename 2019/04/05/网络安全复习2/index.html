<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">







  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">


  <link rel="manifest" href="/images/manifest.json">




  <meta name="keywords" content="总结,网络安全,">





  <link rel="alternate" href="/atom.xml" title="煊奕" type="application/atom+xml">






<meta name="description" content="愿你走出半生，归来仍是少年">
<meta name="keywords" content="总结,网络安全">
<meta property="og:type" content="article">
<meta property="og:title" content="网络安全复习2">
<meta property="og:url" content="https://clwsec.top/2019/04/05/网络安全复习2/index.html">
<meta property="og:site_name" content="煊奕">
<meta property="og:description" content="愿你走出半生，归来仍是少年">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/05/ARWzjI.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/05/ARI9zQ.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/05/ARqNfP.png">
<meta property="og:updated_time" content="2019-04-05T12:07:38.329Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="网络安全复习2">
<meta name="twitter:description" content="愿你走出半生，归来仍是少年">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/04/05/ARWzjI.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":10,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://clwsec.top/2019/04/05/网络安全复习2/">





  <title>网络安全复习2 | 煊奕</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">煊奕</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">No pains No gains</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-链接">
          <a href="/links/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            链接
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://clwsec.top/2019/04/05/网络安全复习2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lei">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="煊奕">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">网络安全复习2</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T11:17:48+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4.9k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <blockquote class="blockquote-center">愿你走出半生，归来仍是少年</blockquote>

<a id="more"></a>
<h3 id="网络嗅探技术"><a href="#网络嗅探技术" class="headerlink" title="网络嗅探技术"></a>网络嗅探技术</h3><h4 id="网络监听"><a href="#网络监听" class="headerlink" title="网络监听"></a>网络监听</h4><p>网络监听，也称网络嗅探(Network Sniffing)：在他方未察觉的情况下捕获其通信报文、通信内容的技术</p>
<h4 id="网卡的工作模式："><a href="#网卡的工作模式：" class="headerlink" title="网卡的工作模式："></a>网卡的工作模式：</h4><p>1.广播模式(Broadcast Mode)：网卡能够接收网络中的广播信息<br>2.组播模式(Multicast Mode)：网卡能够接收组播数据<br>3.单播模式(Unicast Mode)：只接收目的地址匹配本机MAC地址的数据帧<br>4.混杂模式(Promiscuous Mode,监听模式)：网卡接收一切数据帧，无论其目的MAC地址是什么</p>
<h4 id="嗅探的工作机制："><a href="#嗅探的工作机制：" class="headerlink" title="嗅探的工作机制："></a>嗅探的工作机制：</h4><p>1.驱动程序支持：直接与网卡驱动程序接口的驱动模块，作为网卡驱动与上层应用的“中间人”，将网卡设置成混杂模式，捕获数据包并从上层接收各种抓包请求<br>2.分组捕获过滤机制：对来自网卡的数据帧进行过滤，将符合要求的数据交给上层</p>
<ul>
<li>网卡上传的数据帧有两个去处：正常的协议栈或分组捕获过滤模块，对于非本地的数据包，前者会丢弃，后者则根据上层应用要求来决定是否丢弃</li>
<li>许多操作系统都提供分组捕获机制，如Windows平台上主要有NPF过滤机制，Linux中的SOCK_PACKET类型套接字，BSD系统中的BPF(Berkeley Packet Filter)</li>
</ul>
<p>3.共享式局域网的监听实现方法</p>
<p><img src="https://s2.ax1x.com/2019/04/05/ARWzjI.png" alt></p>
<h4 id="交换式局域网的监听技术"><a href="#交换式局域网的监听技术" class="headerlink" title="交换式局域网的监听技术"></a>交换式局域网的监听技术</h4><p>1.溢出攻击</p>
<ul>
<li>交换机要维护一张MAC地址与端口的映射表（CAM）</li>
<li>维护该表的内存有限。如用大量的错误MAC地址的数据帧对交换机进行攻击，交换机就可能出现溢出</li>
<li>这时交换机就回到广播方式——向所有的端口发送数据包，监听就很容易了（ARP过载, MAC泛洪）</li>
</ul>
<p>2.ARP欺骗</p>
<ul>
<li>计算机维护一个IP-MAC地址对应表，该表随着ARP请求/响应不断更新</li>
<li>通过ARP欺骗，改变表里的对应关系，攻击者可以成为被攻击者与交换机之间的“中间人”，使交换式局域网中的所有数据包都流经攻击者的网卡</li>
</ul>
<h4 id="监听的防御"><a href="#监听的防御" class="headerlink" title="监听的防御"></a>监听的防御</h4><p>1.被动防御措施，如采用安全的网络拓扑结构和数据加密技术。注意重点区域的安全防范</p>
<ul>
<li>网络分段越细，嗅探器收集的信息越少。将网络分成一些小的网络，数据包只能在该网段内部被嗅探。嗅探器不能跨过的网络设备：交换机、路由器。网络分段需要昂贵的硬件设备，只适应于中小的网络</li>
<li>VLAN：使网络隔离不必要的数据传送，一般可采用20个工作站为一组，这是比较合理的数字</li>
</ul>
<p>2.数据通道加密：数据通过事先建立的加密通道进行传输，账号、口令等敏感信息将受到严密保护。主要有</p>
<ul>
<li>SSH（Secure Shell） </li>
<li>SSL (Secure Socket Layer，安全套接字应用层)</li>
<li>VPN</li>
</ul>
<p>3.数据内容加密：采用被证实较为可靠的加密机制对传输的邮件和文件进行加密</p>
<ul>
<li>PGP等</li>
</ul>
<h4 id="交换网络下防范监听的措施"><a href="#交换网络下防范监听的措施" class="headerlink" title="交换网络下防范监听的措施"></a>交换网络下防范监听的措施</h4><p>1.主要防止ARP欺骗及ARP过载<br>2.不要把网络安全信任关系建立在单一的IP或MAC基础上，理想的关系应该建立在IP-MAC的对应关系上<br>3.使用静态ARP或者IP-MAC对照表代替动态的ARP或者IP-MAC对应表——禁止自动更新，使用手动更新<br>4.定期检查ARP请求：使用ARP监视工具如ARPWatch等监视并探测ARP欺骗<br>5.制定良好的安全管理策略，加强用户安全意识</p>
<hr>
<h3 id="口令破解"><a href="#口令破解" class="headerlink" title="口令破解"></a>口令破解</h3><h4 id="口令破解方法："><a href="#口令破解方法：" class="headerlink" title="口令破解方法："></a>口令破解方法：</h4><p>1.暴力破解（brute force）：穷举，速度慢<br>2.字典攻击：根据用户信息建立起一个用户可能使用的口令列表文件，速度快<br>3.组合攻击：在字典列表的基础上增加几个字母或数字进行攻击<br>许多情况下用户喜欢在用户名后加几个字母或数字作为密码，如usr→usr2324<br>4.其他方式：例如</p>
<ul>
<li>社会工程学（social engineering）</li>
<li>网络嗅探/木马/口令蠕虫</li>
<li>搜索垃圾箱</li>
</ul>
<h4 id="windows的口令文件"><a href="#windows的口令文件" class="headerlink" title="windows的口令文件"></a>windows的口令文件</h4><p>1.windows: 采用<strong>安全账户管理器SAM（Security Account Manager）机制</strong></p>
<p>2.SAM文件：在%systemroot%system32\config目录下</p>
<ul>
<li>含有本地系统或所在控制域上所有用户名和口令的Hash值</li>
<li>创建口令Hash有两种方法:<br>LAN Manager (LM)—最早使用的密码哈希算法之一<br>NT LAN Manager v2(NTLMv2)—Windows 2000、XP、Vista、7和10等</li>
</ul>
<p>3.安全标识RID：在账号创建时被创建；账号删除，RID也同时删除；即使用户名相同，每次创建时获得的RID也不同</p>
<p>4.Windows系统下的hash密码格式为：<br>用户名:RID:LM-HASH值:NT-HASH值<br>例：　Administrator:500:C8825DB10F2590EAAAD3B435B51404EE:683020925C5D8569C23AA724774CE6CC:::<br>用户名：Administrator RID：500 LM-HASH值：C8825DB10F2590EAAAD3B435B51404EE NT-HASH值：683020925C5D8569C23AA724774CE6CC</p>
<p>5.LM哈希的安全缺陷：</p>
<ul>
<li>DES算法密钥太短（56bit）</li>
<li>14个ASCII字符组成的密码，有<code>95^14</code>种可能性，而一旦将其腰斩为两组7位的字符串，就降低为<code>95^7</code>种，不区分大小写，将进一步降低为<code>69^7</code>种。因此密码被保存成LM哈希，在暴力破解面前将不堪一击</li>
<li>如果密码长度<code>＜=7</code>，则第二部分hash为固定值<code>0xAAD3B435B51404EE</code>，因此很容易确定密码长度范围</li>
<li>Hash值在通过网络发送到服务器时，没有进行<code>salting</code>操作，容易遭受中间人攻击和重放攻击</li>
</ul>
<h4 id="Windows系统的登录与身份认证"><a href="#Windows系统的登录与身份认证" class="headerlink" title="Windows系统的登录与身份认证"></a>Windows系统的登录与身份认证</h4><p>1.登录Windows系统主要包括两种方式，其对应的身份认证方式也不相同</p>
<ul>
<li>交互式登录：向本地计算机或域账户确认用户的身份<br>本地账户登录本地计算机：可以使用存储在本地SAM中的口令散列进行登录——用户输入明文口令，系统对口令使用相同的加密散列过程，并将散列结果与保存的散列进行比较，如果匹配，则通过验证<br>域账户登录：默认使用Kerberos V5</li>
<li>网络登录：对用户尝试访问的网络服务或资源提供用户验证。可以使用多种网络身份验证机制，如Kerberos V5、安全套接字/传输层安全（Secure Socket Layer/Transport Layer Security，SSL/TLS）以及与Windows NT 4.0兼容的NTLM机制</li>
</ul>
<p>2.NTLM的身份认证机制：基于挑战/响应机制（C/R，Challenge/Response）</p>
<p><img src="https://s2.ax1x.com/2019/04/05/ARI9zQ.png" alt></p>
<h4 id="破解工具"><a href="#破解工具" class="headerlink" title="破解工具"></a>破解工具</h4><p>1.SAMInside</p>
<ul>
<li>支持Windows NT/2000/XP/Vista/7操作系统</li>
<li>可进行字典破解，暴力破解，掩码破解和彩虹表破解</li>
<li>导出PWDUMP格式密码文件</li>
</ul>
<p>2.Ophcrack：基于彩虹表的windows密码破解软件<br>3.L0phtCrack<br>4.John the Ripper<br>5.Cain &amp; Abel 可破解MySQL，MSSQL等数据库密码</p>
<h4 id="Unix-Linux密码"><a href="#Unix-Linux密码" class="headerlink" title="Unix/Linux密码"></a>Unix/Linux密码</h4><p><strong>采用用户名密码存储加密机制</strong> </p>
<p>1./etc/passwd: 包含了用户名、用户的真实姓名、标识信息以及每个用户的基本信息，各个域之间用”:”隔开<br>2./etc/shadow: 影子密码文件，包含了加密过的密码以及密码失效时间，只有root用户才能读取<br>3.组标识符GID：</p>
<ul>
<li>每个Unix用户都属于一个或者几个组</li>
<li>每个用户都隶属于一个主用户组，存储在/etc/passwd文件中</li>
<li>可以利用组来限制一些用户对敏感信息或者特殊许可的应用程序的访问权<br>/etc/group：列出了计算机上所有的组<br>/etc/gshadow：计算机上所有组的群组影子密码文件</li>
</ul>
<h4 id="文件破解"><a href="#文件破解" class="headerlink" title="文件破解"></a>文件破解</h4><p>1.offiice文件加密机制：采用RC4对称加密算法对文件进行加密<br>2.破解：可用破解工具ARPR（Advanced RAR Password Recovery）</p>
<h4 id="口令破解防御"><a href="#口令破解防御" class="headerlink" title="口令破解防御"></a>口令破解防御</h4><p>1.使用安全加密机制<br>2.使用强口令</p>
<hr>
<h3 id="欺骗攻击与防御"><a href="#欺骗攻击与防御" class="headerlink" title="欺骗攻击与防御"></a>欺骗攻击与防御</h3><p>欺骗：冒充身份通过认证以骗取信任的攻击方式</p>
<ul>
<li>攻击者针对认证机制的缺陷，将自己伪装成可信任方，从而与受害者交流，以获取信息或者展开进一步攻击</li>
</ul>
<h4 id="arp欺骗与预防"><a href="#arp欺骗与预防" class="headerlink" title="arp欺骗与预防"></a>arp欺骗与预防</h4><p>1.欺骗<br>在同一个局域网内，主机之间是通过mac地址来相互识别的，但是网络层过来的数据包是ip地址标识的，所以会调用arp协议将ip地址转换为mac地址，然后根据这个mac地址进行数据包的转发，而arp协议原理大概可以理解为去查一份ip-mac地址映射表。</p>
<p>通常情况下，这个表是没有问题的，但是，若攻击者向被攻击者和网关发送相应的伪造的ARP应答包，更改了两者的ARP表。当被工具这和网关进行通信时，根据已更改的ARP表，所有数据都将流向攻击者。通常攻击者还会做一个流量转发，这样被攻击者才不会察觉到被攻击。</p>
<p>2.防御</p>
<ul>
<li>MAC地址绑定</li>
<li>使用静态ARP缓存（<code>arp -s</code>)</li>
<li>使用ARP服务器（确保该服务器不被控制）</li>
<li>使用ARP欺骗防护软件，如ARP防火墙</li>
<li>及时发现进行ARP欺骗的主机，并将其隔离</li>
</ul>
<p>3.原理（ARP的缺陷）：</p>
<ul>
<li>主机收到应答包后不验证自己是否发送过对应的ARP请求</li>
<li>不验证该回应包是否可信</li>
<li>直接用应答包里的信息替换ARP缓存表中的原有信息</li>
</ul>
<p>4.检测</p>
<ul>
<li>网络频繁掉线</li>
<li>网络突然莫名其妙的慢</li>
<li>使用<code>arp –a</code>命令发现网关的MAC地址与真实的网关MAC地址不同</li>
<li>使用网络嗅探软件发现局域网存在大量ARP响应包</li>
</ul>
<hr>
<h4 id="IP欺骗与防御"><a href="#IP欺骗与防御" class="headerlink" title="IP欺骗与防御"></a>IP欺骗与防御</h4><p>1.IP协议：非面向连接，两台计算机的信任连接主要依靠双方的IP地址</p>
<p>2.IP欺骗的方式</p>
<p>(1)简单的IP地址更改:攻击者将IP地址改成其他主机的地址（攻击效果很一般）</p>
<ul>
<li>TCP：A将收到一无所知的会话回复，将丢弃数据包，无法完成一次完整的TCP连接</li>
<li>UDP：无连接，数据包会发送到A，导致拒绝服务</li>
</ul>
<p>也称盲目飞行攻击(flying blind attack)/单向攻击(one-way attack)</p>
<p>(2)源路由攻击（source routing）：攻击者可以使用假冒地址A向受害者B发送数据包，<br>并指定了宽松的源站选路或者严格路由选择(如果确定能经过所填入的每个路由的话)，并把自己的IP地址填入地址清单中。这样，数据包必然会经过攻击者。</p>
<ul>
<li>宽松的源站选择（LSR）：发送端指明数据包必须经过的IP地址清单，但如果需要也可以经过其他地址</li>
<li>严格的源站选择（SRS）：发送端指明数据包必须经过的确切IP地址，数据包如果没有经过这一确切路径，数据包将被丢弃，并返回ICMP报文</li>
</ul>
<p>(3)TCP会话劫持(Session Hijack)：接管现存动态会话的过程，即攻击者可以替代原来的合法用户，同时监视并掌握会话内容</p>
<ul>
<li>会话劫持结合了嗅探及欺骗技术</li>
<li>会话劫持一般伴随着拒绝服务DoS，且不依赖于操作系统</li>
<li>会话劫持的关键之一—TCP序列号猜测</li>
</ul>
<p>会话劫持过程：</p>
<ul>
<li>发现攻击目标：必须能检测目标主机的通信流</li>
<li>确认会话状态：会话劫持一般在流量达到高峰时进行<br>攻击者可以选择的会话较多<br>掉线不容易引起用户的怀疑</li>
<li>猜测序列号：<br>TCP仅通过SEQ/ACK序列号来区分正确/错误数据包，以某种方式扰乱客户机的SEQ/ACK，使服务器不再相信客户机的正确数据包，然后伪装成客户机，使用猜测的正确的SEQ/ACK序列号与服务器通信<br>扰乱方法：恰当的时间在通信流中插入一个欺骗包，服务器接收后更新ACK；客户机对此毫无察觉，依然使用旧的SEQ通信</li>
<li>使客户主机下线：DoS攻击</li>
<li>接管会话：攻击者在受害服务器上留下后门（创建账号）</li>
</ul>
<p>3.IP欺骗的防御</p>
<ul>
<li>防范基本的IP欺骗：<br>入口过滤：不允许任何从外面进入网络的数据包使用单位内部地址作为源地址<br>出口过滤：从内网主机到内网主机的流量不允许流到本网络之外</li>
<li>防范源路由欺骗：设置路由器禁用源路由</li>
<li>防范会话劫持（没有有效的办法可以根本上防范会话劫持攻击，只能尽量减少攻击带来的危害）：<br>加密：<br>使用安全协议：使用SSH，而不使用Telnet<br>限制保护：允许外网到内网的信息越少，内网越安全</li>
</ul>
<hr>
<h4 id="DNS欺骗与防御"><a href="#DNS欺骗与防御" class="headerlink" title="DNS欺骗与防御"></a>DNS欺骗与防御</h4><p>1.DNS欺骗的原理及实现步骤：</p>
<ul>
<li>当向本地DNS服务器查询域名时，如果服务器缓存中已有相应记录，就直接将这条记录返回给用户</li>
<li>DNS欺骗的关键是在DNS服务器的本地Cache中缓存一条伪造的解析记录</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/05/ARqNfP.png" alt></p>
<p>2.攻击（两种情况）</p>
<p>(1)攻击者可以控制本地域名服务器</p>
<ul>
<li>攻击者控制本地域名服务器(假定是<code>163.com</code>域的权威)，在其数据库中增加一个附加记录，将攻击目标的域名(例如<code>www.example.com</code>)指向攻击者的欺骗IP</li>
<li>用户向该域名服务器发送对攻击目标的域名解析时，将得到攻击者的欺骗IP</li>
<li>现实情况:攻击者往往无法控制DNS服务器</li>
</ul>
<p>(2)攻击者无法控制DNS服务器<br>可以控制DNS服务器所在网络的某台主机，并可以监听该网络中的通信情况。黑客要对远程的某DNS服务器进行欺骗：</p>
<ul>
<li>首先，黑客要冒充某个域名服务器的IP地址</li>
<li>其次，黑客要能预测目标域名服务器所发送DNS数据包的ID号</li>
</ul>
<p>注：确定目标DNS服务器的ID号为DNS欺骗攻击的关键</p>
<p>(3)DNS数据通过UDP（53端口）协议传递，通信过程往往是并行的，即域名服务器之间同时可能会进行多个解析过程。在DNS报文里面。DNS报文格式最开始是所谓ID域，这个ID就是用于区别不同会话过程的，也就是说，不同的解析会话，采用不同的ID号。</p>
<p>(4)如何获取ID号</p>
<ul>
<li>在某个DNS服务器的网络中进行嗅探，他只要向远程DNS服务器发送一个对本地某域名的解析请求，得到来自目标DNS服务器的请求数据包（因为远程DNS服务器肯定会转而请求本地的DNS服务器），攻击者就可以得到想要的ID号</li>
<li>若无法监听拥有DNS服务器的网络，可用下面的方法：</li>
</ul>
<p>1.向目标DNS服务器请求某个不存在域名地址（但该域存在）<br>2.冒充所请求域的DNS服务器，向目标DNS服务器连续发送应答包，包中的ID号依次递增<br>3.一段时间后，再次向目标DNS服务器发送针对该域名的解析请求，如果得到返回结果，就说明目标DNS服务器接受了刚才的伪造应答，否则，再次尝试</p>
<p>3.DNS欺骗的局限性：</p>
<ul>
<li>攻击者不能替换缓存中已经存在的记录</li>
<li>DNS服务器存在缓存刷新时间问题</li>
</ul>
<p>4.DNS欺骗的防御</p>
<ul>
<li>使用最新版本DNS服务器软件并及时安装补丁</li>
<li>关闭DNS服务器的递归功能：利用缓存中的记录信息或通过查询其它服务器获得信息并发送给客户机，称为递归查询——容易导致DNS欺骗</li>
<li>限制区域传输范围：限制域名服务器做出响应的地址、限制域名服务器做出响应的递归请求地址、限制发出请求的地址</li>
<li>限制动态更新</li>
<li>采用分层的DNS体系结构</li>
</ul>
<hr>
<h4 id="电子邮件欺骗及防御"><a href="#电子邮件欺骗及防御" class="headerlink" title="电子邮件欺骗及防御"></a>电子邮件欺骗及防御</h4><p>1.电子邮件欺骗的原理<br>邮件系统组成:</p>
<ul>
<li>用户代理（User Agent）:用户端发信和收信的程序，负责将信件按照一定的标准包装，然后送到邮件服务器，或由邮件服务器收回</li>
<li>传输代理（Transfer Agent）:负责信件的交换和传输，将信件传送至适当的邮件服务器</li>
<li>投递代理（Delivery Agent）:将信件分发至最终用户的邮箱</li>
</ul>
<p>正常情况下，邮件会将发送者的名字和地址包括进邮件头中，但有时发送者不希望收件者知道是谁发的(匿名邮件) </p>
<ul>
<li>最简单的方法：改变电子邮件发送者的名字，但通过邮件头的其它信息仍能够跟踪发送者</li>
<li>彻底的方式：让其他人发送这个邮件，发信地址就变成转发者的地址。现在因特网上有大量的匿名服务器</li>
</ul>
<p>2.电子邮件欺骗的方法</p>
<ul>
<li>利用相似的电子邮件地址 </li>
<li>直接使用伪造的E-mail地址<br>SMTP协议的致命缺陷——遵循过于信任的原则：不对邮件发送者的身份进行验证<br>可以随意构造发件人地址来发送邮件</li>
<li>远程登录到SMTP端口（25）发送邮件</li>
</ul>
<p>3.电子邮件欺骗的防御<br>(1)树立风险意识，不要随意打开一个不信任的邮件<br>(2)从如下角度考虑防范方法：</p>
<ul>
<li>邮件接收者：合理配置邮件客户端，使总能显示完整的电子邮件地址，而不仅仅显示别名，完整的电子邮件地址能提供表明正在发生一些不平常事情的一些迹象</li>
<li>邮件发送者: 如使用foxmail或者outlook之类的邮件客户端，保护好邮件客户端，防止他人修改客户端设置</li>
<li>邮件服务器: 采用SMTP身份验证机制：新SMTP协议规范新增2个命令(VRFY,EXPN) ，对发件人进行身份认证，一定程度上降低了匿名/垃圾邮件的风险</li>
<li>邮件加密:<br>OpenPGP(RFC 4880):【PGP (Pretty Good Privacy，相当好的隐私，商业版)】  【GnuPG(GPG，C): 开源项目, 支持OpenPGP,S/MIME】<br>S/MIME（RFC 2311,Secure/Multipurpose Internet Mail Extension）安全/多用途因特网邮件扩展</li>
</ul>
<hr>
<h4 id="Web欺骗与防御"><a href="#Web欺骗与防御" class="headerlink" title="Web欺骗与防御"></a>Web欺骗与防御</h4><p>1.欺骗：网络钓鱼等，不多说。<br>2.防御：</p>
<ul>
<li>配置网络浏览器使它总能显示目的URL，并且习惯查看它</li>
<li>检查源代码，如果发生了URL重定向，就一定会发现。对普通用户来说是不切实际的</li>
<li>使用反网络钓鱼软件</li>
<li>禁用JavaScript、ActiveX或者任何其他在本地执行的脚本语言</li>
<li>确保应用有效和能适当地跟踪用户。无论是使用cookie还是会话ID，都应该确保要尽可能的长和随机</li>
<li>培养用户的安全意识和对开发人员的安全教育</li>
</ul>
<hr>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    lei
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://clwsec.top/2019/04/05/网络安全复习2/" title="网络安全复习2">https://clwsec.top/2019/04/05/网络安全复习2/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/总结/" rel="tag"> <i class="fa fa-tag"></i> 总结</a>
          
            <a href="/tags/网络安全/" rel="tag"> <i class="fa fa-tag"></i> 网络安全</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/04/网络安全复习1/" rel="next" title="网络安全复习1">
                <i class="fa fa-chevron-left"></i> 网络安全复习1
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/05/网络安全复习3/" rel="prev" title="网络安全复习3">
                网络安全复习3 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="lei">
            
              <p class="site-author-name" itemprop="name">lei</p>
              <p class="site-description motion-element" itemprop="description">业精于勤 荒于嬉 行成于思 毁于随</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/clwsec" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="email:clwsec@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/7e18a3f52ba3" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>简书</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="qq:740455490" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-qq"></i>QQ</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.baidu.com/" title="百度" target="_blank">百度</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.zhihu.com/" title="知乎" target="_blank">知乎</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.w3school.com.cn/" title="W3school" target="_blank">W3school</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.runoob.com/" title="菜鸟" target="_blank">菜鸟</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#网络嗅探技术"><span class="nav-number">1.</span> <span class="nav-text">网络嗅探技术</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#网络监听"><span class="nav-number">1.1.</span> <span class="nav-text">网络监听</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#网卡的工作模式："><span class="nav-number">1.2.</span> <span class="nav-text">网卡的工作模式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#嗅探的工作机制："><span class="nav-number">1.3.</span> <span class="nav-text">嗅探的工作机制：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#交换式局域网的监听技术"><span class="nav-number">1.4.</span> <span class="nav-text">交换式局域网的监听技术</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#监听的防御"><span class="nav-number">1.5.</span> <span class="nav-text">监听的防御</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#交换网络下防范监听的措施"><span class="nav-number">1.6.</span> <span class="nav-text">交换网络下防范监听的措施</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#口令破解"><span class="nav-number">2.</span> <span class="nav-text">口令破解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#口令破解方法："><span class="nav-number">2.1.</span> <span class="nav-text">口令破解方法：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#windows的口令文件"><span class="nav-number">2.2.</span> <span class="nav-text">windows的口令文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows系统的登录与身份认证"><span class="nav-number">2.3.</span> <span class="nav-text">Windows系统的登录与身份认证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#破解工具"><span class="nav-number">2.4.</span> <span class="nav-text">破解工具</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Unix-Linux密码"><span class="nav-number">2.5.</span> <span class="nav-text">Unix/Linux密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文件破解"><span class="nav-number">2.6.</span> <span class="nav-text">文件破解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#口令破解防御"><span class="nav-number">2.7.</span> <span class="nav-text">口令破解防御</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#欺骗攻击与防御"><span class="nav-number">3.</span> <span class="nav-text">欺骗攻击与防御</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#arp欺骗与预防"><span class="nav-number">3.1.</span> <span class="nav-text">arp欺骗与预防</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IP欺骗与防御"><span class="nav-number">3.2.</span> <span class="nav-text">IP欺骗与防御</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS欺骗与防御"><span class="nav-number">3.3.</span> <span class="nav-text">DNS欺骗与防御</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#电子邮件欺骗及防御"><span class="nav-number">3.4.</span> <span class="nav-text">电子邮件欺骗及防御</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Web欺骗与防御"><span class="nav-number">3.5.</span> <span class="nav-text">Web欺骗与防御</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-snowflake-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lei</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">91.2k</span>
  
</div>







        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  


  

  

</body>
</html>
